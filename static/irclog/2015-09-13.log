<li class="join">[<a href="#T00:00:30" id="T00:00:30"><abbr title="2015-09-13T00:00:30+00:00">00:00:30</abbr></a>] <span>* BeagleBot (~PircBot@ec2-50-17-196-130.compute-1.amazonaws.com) has joined #beagle</span></li>
<li class="topic">[<abbr title="2015-09-13T00:00:30+00:00">00:00:30</abbr>] <span>* Topic is '<a href="http://beagleboard.org/chat">http://beagleboard.org/chat</a> has a guide on how to ask questions and links to the logs | never ask to ask, just ask | be patient | pastebin a boot log | <a href="http://ahsoftware.de/Beaglebone_Black_Boot_explained.svg">http://ahsoftware.de/Beaglebone_Black_Boot_explained.svg</a> | <a href="http://beagleboard.org/latest-images">http://beagleboard.org/latest-images</a> | <a href="http://beagleboard.org/Support/bone101">http://beagleboard.org/Support/bone101</a> | direct bonescript/node.js questions to #beagle-bonescript | books: <a href="http://bit.ly/bbb-books'">http://bit.ly/bbb-books'</a></span></li>
<li class="topic">[<abbr title="2015-09-13T00:00:30+00:00">00:00:30</abbr>] <span>* Set by KotH!~attila@erica.kinali.ch on Wed Jul 15 13:55:07 UTC 2015</span></li>
<li class="join">[<abbr title="2015-09-13T00:00:30+00:00">00:00:30</abbr>] <span>* BeagleBot (~PircBot@ec2-50-17-196-130.compute-1.amazonaws.com) has joined #beagleboard</span></li>
<li class="join">[<abbr title="2015-09-13T00:00:30+00:00">00:00:30</abbr>] <span>* BeagleBot (~PircBot@ec2-50-17-196-130.compute-1.amazonaws.com) has joined #beaglebone</span></li>
<li class="message">[<a href="#T00:00:52" id="T00:00:52"><abbr title="2015-09-13T00:00:52+00:00">00:00:52</abbr></a>] &lt;<cite>yates</cite>&gt; <q>this is the old generation board? is it what they call the beaglebone white?</q></li>
<li class="message">[<a href="#T00:01:23" id="T00:01:23"><abbr title="2015-09-13T00:01:23+00:00">00:01:23</abbr></a>] &lt;<cite>yates</cite>&gt; <q>zmatt: yeah, i just fetched some changes that happened in the last couple of days.</q></li>
<li class="message">[<a href="#T00:01:49" id="T00:01:49"><abbr title="2015-09-13T00:01:49+00:00">00:01:49</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>there's the original beagleboard (omap35xx), beagleboard-xM (dm37xx), beaglebone white (am335x r1), beaglebone black (am335x r2), and upcoming beagleboard-x15 (am572x)</q></li>
<li class="message">[<a href="#T00:02:15" id="T00:02:15"><abbr title="2015-09-13T00:02:15+00:00">00:02:15</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>for beaglebone the two most relevant repos afaik are:</q></li>
<li class="message">[<a href="#T00:02:44" id="T00:02:44"><abbr title="2015-09-13T00:02:44+00:00">00:02:44</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q><a href="https://github.com/RobertCNelson/bb-kernel/releases">https://github.com/RobertCNelson/bb-kernel/releases</a>    # build scripts and patches, for if you want to (re)build your own kernel based on a -bone kernel</q></li>
<li class="message">[<a href="#T00:03:03" id="T00:03:03"><abbr title="2015-09-13T00:03:03+00:00">00:03:03</abbr></a>] &lt;<cite>yates</cite>&gt; <q>ok, please go on.</q></li>
<li class="message">[<a href="#T00:03:22" id="T00:03:22"><abbr title="2015-09-13T00:03:22+00:00">00:03:22</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>and the one I previously linked to, which contains the effective source tree as produced by the scripts</q></li>
<li class="message">[<a href="#T00:03:38" id="T00:03:38"><abbr title="2015-09-13T00:03:38+00:00">00:03:38</abbr></a>] &lt;<cite>yates</cite>&gt; <q>why do you mean by the term "source tree"?</q></li>
<li class="message">[<a href="#T00:03:44" id="T00:03:44"><abbr title="2015-09-13T00:03:44+00:00">00:03:44</abbr></a>] &lt;<cite>yates</cite>&gt; <q>s/why/what/</q></li>
<li class="quit">[<a href="#T00:03:51" id="T00:03:51"><abbr title="2015-09-13T00:03:51+00:00">00:03:51</abbr></a>] <span>* jdawgaz (~Jerry@ip70-176-27-239.ph.ph.cox.net) Quit (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)</span></li>
<li class="join">[<a href="#T00:04:20" id="T00:04:20"><abbr title="2015-09-13T00:04:20+00:00">00:04:20</abbr></a>] <span>* Nico44 (~Nico44@crb44-1-82-67-127-241.fbx.proxad.net) has joined #beagle</span></li>
<li class="quit">[<a href="#T00:04:34" id="T00:04:34"><abbr title="2015-09-13T00:04:34+00:00">00:04:34</abbr></a>] <span>* ohama (ohama@cicolina.org) Quit (Ping timeout: 244 seconds)</span></li>
<li class="message">[<a href="#T00:04:48" id="T00:04:48"><abbr title="2015-09-13T00:04:48+00:00">00:04:48</abbr></a>] &lt;<cite>yates</cite>&gt; <q>just the directory tree?</q></li>
<li class="message">[<a href="#T00:05:16" id="T00:05:16"><abbr title="2015-09-13T00:05:16+00:00">00:05:16</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>well, just look at</q></li>
<li class="message">[<a href="#T00:05:17" id="T00:05:17"><abbr title="2015-09-13T00:05:17+00:00">00:05:17</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q><a href="https://github.com/RobertCNelson/bb-kernel/tree/4.2-bone2">https://github.com/RobertCNelson/bb-kernel/tree/4.2-bone2</a></q></li>
<li class="message">[<a href="#T00:05:19" id="T00:05:19"><abbr title="2015-09-13T00:05:19+00:00">00:05:19</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>versus</q></li>
<li class="message">[<a href="#T00:05:22" id="T00:05:22"><abbr title="2015-09-13T00:05:22+00:00">00:05:22</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q><a href="https://github.com/RobertCNelson/linux-stable-rcn-ee/tree/4.2-bone2">https://github.com/RobertCNelson/linux-stable-rcn-ee/tree/4.2-bone2</a></q></li>
<li class="message">[<a href="#T00:05:29" id="T00:05:29"><abbr title="2015-09-13T00:05:29+00:00">00:05:29</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>and it should be clear what i mean</q></li>
<li class="quit">[<a href="#T00:05:30" id="T00:05:30"><abbr title="2015-09-13T00:05:30+00:00">00:05:30</abbr></a>] <span>* seitensei (~quassel@unaffiliated/seitensei) Quit (Ping timeout: 255 seconds)</span></li>
<li class="join">[<a href="#T00:06:54" id="T00:06:54"><abbr title="2015-09-13T00:06:54+00:00">00:06:54</abbr></a>] <span>* kunalg (~kunalg@14.139.160.230) has joined #beagle</span></li>
<li class="quit">[<a href="#T00:08:40" id="T00:08:40"><abbr title="2015-09-13T00:08:40+00:00">00:08:40</abbr></a>] <span>* Nico44 (~Nico44@crb44-1-82-67-127-241.fbx.proxad.net) Quit (Ping timeout: 246 seconds)</span></li>
<li class="message">[<a href="#T00:09:06" id="T00:09:06"><abbr title="2015-09-13T00:09:06+00:00">00:09:06</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>there's also <a href="https://github.com/RobertCNelson/stable-kernel">https://github.com/RobertCNelson/stable-kernel</a> which appears to be the similar to bb-kernel but I think for the older beagleboards</q></li>
<li class="message">[<a href="#T00:09:31" id="T00:09:31"><abbr title="2015-09-13T00:09:31+00:00">00:09:31</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q><a href="https://github.com/RobertCNelson/linux-dev">https://github.com/RobertCNelson/linux-dev</a>   is afaik the main development repo for all of these</q></li>
<li class="message">[<a href="#T00:10:49" id="T00:10:49"><abbr title="2015-09-13T00:10:49+00:00">00:10:49</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>rcn-ee should really make a short overview of all these repos and how they interrelate and put it up somewhere</q></li>
<li class="join">[<a href="#T00:11:08" id="T00:11:08"><abbr title="2015-09-13T00:11:08+00:00">00:11:08</abbr></a>] <span>* kunalg_ (~kunalg@14.139.160.230) has joined #beagle</span></li>
<li class="message">[<a href="#T00:11:10" id="T00:11:10"><abbr title="2015-09-13T00:11:10+00:00">00:11:10</abbr></a>] &lt;<cite>yates</cite>&gt; <q>yes!</q></li>
<li class="join">[<a href="#T00:11:59" id="T00:11:59"><abbr title="2015-09-13T00:11:59+00:00">00:11:59</abbr></a>] <span>* ohama (ohama@cicolina.org) has joined #beaglebone</span></li>
<li class="message">[<abbr title="2015-09-13T00:11:59+00:00">00:11:59</abbr>] &lt;<cite>zmatt</cite>&gt; <q>but, back to your original question</q></li>
<li class="message">[<a href="#T00:12:20" id="T00:12:20"><abbr title="2015-09-13T00:12:20+00:00">00:12:20</abbr></a>] &lt;<cite>yates</cite>&gt; <q>what's the difference between <a href="https://github.com/RobertCNelson/bb-kernel/tree/4.2-bone2">https://github.com/RobertCNelson/bb-kernel/tree/4.2-bone2</a> and <a href="https://github.com/RobertCNelson/linux-dev?">https://github.com/RobertCNelson/linux-dev?</a> they're both a repo of scripts to build the kernel, right?</q></li>
<li class="message">[<a href="#T00:12:40" id="T00:12:40"><abbr title="2015-09-13T00:12:40+00:00">00:12:40</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>linux-dev is devel, and by default won't build a -bone kernel</q></li>
<li class="quit">[<a href="#T00:13:06" id="T00:13:06"><abbr title="2015-09-13T00:13:06+00:00">00:13:06</abbr></a>] <span>* kunalg (~kunalg@14.139.160.230) Quit (Ping timeout: 265 seconds)</span></li>
<li class="nick-change">[<abbr title="2015-09-13T00:13:06+00:00">00:13:06</abbr>] <span>* kunalg_ is now known as kunalg</span></li>
<li class="message">[<a href="#T00:13:07" id="T00:13:07"><abbr title="2015-09-13T00:13:07+00:00">00:13:07</abbr></a>] &lt;<cite>yates</cite>&gt; <q>ah, ok.</q></li>
<li class="message">[<a href="#T00:14:58" id="T00:14:58"><abbr title="2015-09-13T00:14:58+00:00">00:14:58</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>while if you do ./build_deb.sh in bb-kernel tag 4.2-bone2 (branch am33x-v4.2) you should get a linux-image-4.2.0-bone2 debian package similar to the one you get rcn-ee's debian repository</q></li>
<li class="message">[<a href="#T00:15:10" id="T00:15:10"><abbr title="2015-09-13T00:15:10+00:00">00:15:10</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>*get from</q></li>
<li class="message">[<a href="#T00:15:47" id="T00:15:47"><abbr title="2015-09-13T00:15:47+00:00">00:15:47</abbr></a>] &lt;<cite>yates</cite>&gt; <q>ha.</q></li>
<li class="message">[<a href="#T00:16:04" id="T00:16:04"><abbr title="2015-09-13T00:16:04+00:00">00:16:04</abbr></a>] &lt;<cite>yates</cite>&gt; <q>i was just goign to ask you about building the entire img (rootfs and all)</q></li>
<li class="message">[<a href="#T00:16:24" id="T00:16:24"><abbr title="2015-09-13T00:16:24+00:00">00:16:24</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>also useful link to have: <a href="https://rcn-ee.com/rootfs/bb.org/testing/">https://rcn-ee.com/rootfs/bb.org/testing/</a>  various recent rootfs images</q></li>
<li class="message">[<a href="#T00:16:38" id="T00:16:38"><abbr title="2015-09-13T00:16:38+00:00">00:16:38</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>but I don't know what scripts he uses for them, I've never build one from scratch</q></li>
<li class="message">[<a href="#T00:17:30" id="T00:17:30"><abbr title="2015-09-13T00:17:30+00:00">00:17:30</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>I just take a minimalistic console image, install the stuff I want, and them use that beaglebone as a template (taking care to avoid copying things like ssh host keys etc)</q></li>
<li class="message">[<a href="#T00:17:40" id="T00:17:40"><abbr title="2015-09-13T00:17:40+00:00">00:17:40</abbr></a>] &lt;<cite>yates</cite>&gt; <q>i saw somewhere where he had a few choices, like a very small rootfs</q></li>
<li class="message">[<a href="#T00:17:52" id="T00:17:52"><abbr title="2015-09-13T00:17:52+00:00">00:17:52</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>console is the most basic one</q></li>
<li class="message">[<a href="#T00:18:08" id="T00:18:08"><abbr title="2015-09-13T00:18:08+00:00">00:18:08</abbr></a>] &lt;<cite>yates</cite>&gt; <q>are these scripts for crossbuilding, e.g., under fedora?</q></li>
<li class="message">[<a href="#T00:18:19" id="T00:18:19"><abbr title="2015-09-13T00:18:19+00:00">00:18:19</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>although even there some useless packages snuck in last time I checked ;)</q></li>
<li class="message">[<a href="#T00:18:26" id="T00:18:26"><abbr title="2015-09-13T00:18:26+00:00">00:18:26</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>no these are simply the output images</q></li>
<li class="message">[<a href="#T00:18:36" id="T00:18:36"><abbr title="2015-09-13T00:18:36+00:00">00:18:36</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>I don't know anything about the build scripts for them</q></li>
<li class="message">[<a href="#T00:19:26" id="T00:19:26"><abbr title="2015-09-13T00:19:26+00:00">00:19:26</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>so, original question...</q></li>
<li class="message">[<a href="#T00:19:29" id="T00:19:29"><abbr title="2015-09-13T00:19:29+00:00">00:19:29</abbr></a>] &lt;<cite>yates</cite>&gt; <q>ok</q></li>
<li class="message">[<a href="#T00:19:45" id="T00:19:45"><abbr title="2015-09-13T00:19:45+00:00">00:19:45</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q><a href="https://github.com/RobertCNelson/linux-stable-rcn-ee/tree/4.2-bone2/arch/arm/boot/dts">https://github.com/RobertCNelson/linux-stable-rcn-ee/tree/4.2-bone2/arch/arm/boot/dts</a>  shows a couple of am335x-boneblack*.dts flavors</q></li>
<li class="message">[<a href="#T00:20:43" id="T00:20:43"><abbr title="2015-09-13T00:20:43+00:00">00:20:43</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>nearly all seem to include capemgr</q></li>
<li class="message">[<a href="#T00:22:49" id="T00:22:49"><abbr title="2015-09-13T00:22:49+00:00">00:22:49</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>it seems that's no universal dts for boneblack+eMMC without bone capemgr</q></li>
<li class="message">[<a href="#T00:23:09" id="T00:23:09"><abbr title="2015-09-13T00:23:09+00:00">00:23:09</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>*generic dts</q></li>
<li class="message">[<a href="#T00:23:29" id="T00:23:29"><abbr title="2015-09-13T00:23:29+00:00">00:23:29</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>I should avoid the word "universal" since it's used for the hideous "universal overlay" :P</q></li>
<li class="message">[<a href="#T00:23:47" id="T00:23:47"><abbr title="2015-09-13T00:23:47+00:00">00:23:47</abbr></a>] &lt;<cite>yates</cite>&gt; <q>lol - hideous.</q></li>
<li class="message">[<a href="#T00:24:43" id="T00:24:43"><abbr title="2015-09-13T00:24:43+00:00">00:24:43</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>but look at am335x-cape-bbb-exp-r.dts for example</q></li>
<li class="message">[<a href="#T00:24:54" id="T00:24:54"><abbr title="2015-09-13T00:24:54+00:00">00:24:54</abbr></a>] &lt;<cite>yates</cite>&gt; <q>ok, excellent. thanks much, zmatt.</q></li>
<li class="message">[<a href="#T00:25:07" id="T00:25:07"><abbr title="2015-09-13T00:25:07+00:00">00:25:07</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>or better yet</q></li>
<li class="message">[<a href="#T00:25:32" id="T00:25:32"><abbr title="2015-09-13T00:25:32+00:00">00:25:32</abbr></a>] &lt;<cite>yates</cite>&gt; <q>fyi, we're spinning our own custom board and throwing away some of the hardware we don't need (like the video driver 19988, etc.)</q></li>
<li class="message">[<a href="#T00:26:21" id="T00:26:21"><abbr title="2015-09-13T00:26:21+00:00">00:26:21</abbr></a>] &lt;<cite>yates</cite>&gt; <q>and my job is to see what that is goign to screw up and / or if we can fix it in software.</q></li>
<li class="quit">[<a href="#T00:26:24" id="T00:26:24"><abbr title="2015-09-13T00:26:24+00:00">00:26:24</abbr></a>] <span>* KimK (~Kim__@ip68-102-30-239.ks.ok.cox.net) Quit (Read error: Connection timed out)</span></li>
<li class="message">[<a href="#T00:27:10" id="T00:27:10"><abbr title="2015-09-13T00:27:10+00:00">00:27:10</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>just look at the various am335x-boneblack*.dts files</q></li>
<li class="message">[<a href="#T00:27:22" id="T00:27:22"><abbr title="2015-09-13T00:27:22+00:00">00:27:22</abbr></a>] &lt;<cite>yates</cite>&gt; <q>right</q></li>
<li class="message">[<a href="#T00:27:27" id="T00:27:27"><abbr title="2015-09-13T00:27:27+00:00">00:27:27</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>but basically you need am335x-bone-common-no-capemgr.dtsi</q></li>
<li class="message">[<a href="#T00:27:41" id="T00:27:41"><abbr title="2015-09-13T00:27:41+00:00">00:27:41</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>and two dtsi files for eMMC</q></li>
<li class="message">[<a href="#T00:27:48" id="T00:27:48"><abbr title="2015-09-13T00:27:48+00:00">00:27:48</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>(that's normally a "virtual cape")</q></li>
<li class="message">[<a href="#T00:28:41" id="T00:28:41"><abbr title="2015-09-13T00:28:41+00:00">00:28:41</abbr></a>] &lt;<cite>yates</cite>&gt; <q>zmatt: when are these (compiled) overlays loaded? at boot time? after uboot?</q></li>
<li class="message">[<a href="#T00:28:42" id="T00:28:42"><abbr title="2015-09-13T00:28:42+00:00">00:28:42</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>I don't really understand why am335x-bone-common-no-capemgr.dtsi is so much copy-pastework instead of just including one in the other</q></li>
<li class="message">[<a href="#T00:29:11" id="T00:29:11"><abbr title="2015-09-13T00:29:11+00:00">00:29:11</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>uboot loads the kernel, initrd, and dtb and then executes the kernel with initrd and dtb as arguments</q></li>
<li class="message">[<a href="#T00:29:17" id="T00:29:17"><abbr title="2015-09-13T00:29:17+00:00">00:29:17</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>actually</q></li>
<li class="join">[<a href="#T00:29:24" id="T00:29:24"><abbr title="2015-09-13T00:29:24+00:00">00:29:24</abbr></a>] <span>* KimK (~Kim__@ip68-102-30-239.ks.ok.cox.net) has joined #beagle</span></li>
<li class="message">[<a href="#T00:29:45" id="T00:29:45"><abbr title="2015-09-13T00:29:45+00:00">00:29:45</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>it unpacks the device tree, patches some things, and then passes that to the kernel</q></li>
<li class="message">[<a href="#T00:30:08" id="T00:30:08"><abbr title="2015-09-13T00:30:08+00:00">00:30:08</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>for example the /memory is filled in by u-boot</q></li>
<li class="message">[<a href="#T00:30:26" id="T00:30:26"><abbr title="2015-09-13T00:30:26+00:00">00:30:26</abbr></a>] &lt;<cite>yates</cite>&gt; <q>another thing we're doing is throwing away the EEPROM on I2C0. do you think that's going to hang the boot?</q></li>
<li class="message">[<a href="#T00:30:31" id="T00:30:31"><abbr title="2015-09-13T00:30:31+00:00">00:30:31</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>yes</q></li>
<li class="message">[<a href="#T00:30:35" id="T00:30:35"><abbr title="2015-09-13T00:30:35+00:00">00:30:35</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>but</q></li>
<li class="message">[<a href="#T00:30:41" id="T00:30:41"><abbr title="2015-09-13T00:30:41+00:00">00:30:41</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>easy to patch in u-boot</q></li>
<li class="message">[<a href="#T00:31:07" id="T00:31:07"><abbr title="2015-09-13T00:31:07+00:00">00:31:07</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>it reads the board type from it and tests for that in various places</q></li>
<li class="message">[<a href="#T00:31:15" id="T00:31:15"><abbr title="2015-09-13T00:31:15+00:00">00:31:15</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>replace by hardcoded board type</q></li>
<li class="message">[<a href="#T00:31:25" id="T00:31:25"><abbr title="2015-09-13T00:31:25+00:00">00:31:25</abbr></a>] &lt;<cite>yates</cite>&gt; <q>right. let me quit asking stupid questions and do some research. thanks a BUNCH!</q></li>
<li class="message">[<a href="#T00:31:47" id="T00:31:47"><abbr title="2015-09-13T00:31:47+00:00">00:31:47</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>btw, a useful thing to know if you make derivatives of device-trees</q></li>
<li class="message">[<a href="#T00:31:52" id="T00:31:52"><abbr title="2015-09-13T00:31:52+00:00">00:31:52</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>and I think not well known</q></li>
<li class="action">[<a href="#T00:32:00" id="T00:32:00"><abbr title="2015-09-13T00:32:00+00:00">00:32:00</abbr></a>] <span>* yates is all ears</span></li>
<li class="message">[<a href="#T00:32:55" id="T00:32:55"><abbr title="2015-09-13T00:32:55+00:00">00:32:55</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>usually every chunk of device tree source just adds nodes (if not already exist) and adds/replaces properties</q></li>
<li class="message">[<a href="#T00:33:35" id="T00:33:35"><abbr title="2015-09-13T00:33:35+00:00">00:33:35</abbr></a>] &lt;<cite>yates</cite>&gt; <q>yeah, what creates the "root device tree"?</q></li>
<li class="message">[<a href="#T00:33:48" id="T00:33:48"><abbr title="2015-09-13T00:33:48+00:00">00:33:48</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>the first chunk of a dts</q></li>
<li class="message">[<a href="#T00:33:53" id="T00:33:53"><abbr title="2015-09-13T00:33:53+00:00">00:33:53</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>always begins with / {</q></li>
<li class="quit">[<a href="#T00:34:06" id="T00:34:06"><abbr title="2015-09-13T00:34:06+00:00">00:34:06</abbr></a>] <span>* lektrik (~mayday_ja@69.156.38.73) Quit (Ping timeout: 240 seconds)</span></li>
<li class="quit">[<abbr title="2015-09-13T00:34:06+00:00">00:34:06</abbr>] <span>* lektrik_ (~mayday_ja@69.156.38.73) Quit (Ping timeout: 240 seconds)</span></li>
<li class="message">[<a href="#T00:34:12" id="T00:34:12"><abbr title="2015-09-13T00:34:12+00:00">00:34:12</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>but, little-known is that you can also delete nodes/properties that were previously defined</q></li>
<li class="message">[<a href="#T00:34:15" id="T00:34:15"><abbr title="2015-09-13T00:34:15+00:00">00:34:15</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>like</q></li>
<li class="message">[<a href="#T00:34:18" id="T00:34:18"><abbr title="2015-09-13T00:34:18+00:00">00:34:18</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>{</q></li>
<li class="message">[<a href="#T00:34:24" id="T00:34:24"><abbr title="2015-09-13T00:34:24+00:00">00:34:24</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>  /delete-node/ bone_capemgr;</q></li>
<li class="message">[<abbr title="2015-09-13T00:34:24+00:00">00:34:24</abbr>] &lt;<cite>zmatt</cite>&gt; <q>}</q></li>
<li class="message">[<a href="#T00:35:42" id="T00:35:42"><abbr title="2015-09-13T00:35:42+00:00">00:35:42</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>(just taking an example here, you should actually remove bone_capemgr by not introducing it in the first place since there's more to it than just the /bone_capemgr node, there's also the i2c stuff which is elsewhere in the dts)</q></li>
<li class="message">[<a href="#T00:35:56" id="T00:35:56"><abbr title="2015-09-13T00:35:56+00:00">00:35:56</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>similarly there's a /delete-property/ directive</q></li>
<li class="message">[<a href="#T00:36:05" id="T00:36:05"><abbr title="2015-09-13T00:36:05+00:00">00:36:05</abbr></a>] &lt;<cite>yates</cite>&gt; <q>ok. but wouldn't it be better to just modify whatever .dts so the node is not created in the first place/</q></li>
<li class="message">[<a href="#T00:36:07" id="T00:36:07"><abbr title="2015-09-13T00:36:07+00:00">00:36:07</abbr></a>] &lt;<cite>yates</cite>&gt; <q>yeah.</q></li>
<li class="message">[<a href="#T00:36:18" id="T00:36:18"><abbr title="2015-09-13T00:36:18+00:00">00:36:18</abbr></a>] &lt;<cite>yates</cite>&gt; <q>?</q></li>
<li class="message">[<a href="#T00:36:28" id="T00:36:28"><abbr title="2015-09-13T00:36:28+00:00">00:36:28</abbr></a>] &lt;<cite>yates</cite>&gt; <q>s&amp;/&amp;?&amp;</q></li>
<li class="message">[<a href="#T00:36:29" id="T00:36:29"><abbr title="2015-09-13T00:36:29+00:00">00:36:29</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>yes but sometimes a dtsi will configure sensible defaults</q></li>
<li class="message">[<a href="#T00:36:43" id="T00:36:43"><abbr title="2015-09-13T00:36:43+00:00">00:36:43</abbr></a>] &lt;<cite>yates</cite>&gt; <q>with an exception or two?</q></li>
<li class="message">[<a href="#T00:36:47" id="T00:36:47"><abbr title="2015-09-13T00:36:47+00:00">00:36:47</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>but in some cases you may want to override that</q></li>
<li class="message">[<a href="#T00:37:01" id="T00:37:01"><abbr title="2015-09-13T00:37:01+00:00">00:37:01</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>and in some cases overriding would consist of deleting a property</q></li>
<li class="message">[<a href="#T00:37:37" id="T00:37:37"><abbr title="2015-09-13T00:37:37+00:00">00:37:37</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>like bone-common has &amp;tps { ti,pmic-shutdown-controller; };</q></li>
<li class="message">[<a href="#T00:38:04" id="T00:38:04"><abbr title="2015-09-13T00:38:04+00:00">00:38:04</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>which makes sure that upon shutdown the pmic does into OFF-state rather than SLEEP-state (aka "RTC-only mode")</q></li>
<li class="message">[<a href="#T00:38:28" id="T00:38:28"><abbr title="2015-09-13T00:38:28+00:00">00:38:28</abbr></a>] &lt;<cite>yates</cite>&gt; <q>where is it defined which .dts files are used? is it in a uboot script or in some C source?</q></li>
<li class="message">[<a href="#T00:38:47" id="T00:38:47"><abbr title="2015-09-13T00:38:47+00:00">00:38:47</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>if you made really really sure that your board is compatible with RTC-only mode then you could override bone-common by deleting that property</q></li>
<li class="message">[<a href="#T00:39:16" id="T00:39:16"><abbr title="2015-09-13T00:39:16+00:00">00:39:16</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>(see comments in bone-common for details, if you actually happen to care about RTC-only mode)</q></li>
<li class="message">[<a href="#T00:39:48" id="T00:39:48"><abbr title="2015-09-13T00:39:48+00:00">00:39:48</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>startup script of u-boot</q></li>
<li class="message">[<a href="#T00:40:01" id="T00:40:01"><abbr title="2015-09-13T00:40:01+00:00">00:40:01</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>and, indirectly, /boot/uEnv.sh</q></li>
<li class="message">[<a href="#T00:40:12" id="T00:40:12"><abbr title="2015-09-13T00:40:12+00:00">00:40:12</abbr></a>] &lt;<cite>yates</cite>&gt; <q>what else would there be? (besides RTC)?</q></li>
<li class="message">[<a href="#T00:40:22" id="T00:40:22"><abbr title="2015-09-13T00:40:22+00:00">00:40:22</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>hmm?</q></li>
<li class="message">[<a href="#T00:40:50" id="T00:40:50"><abbr title="2015-09-13T00:40:50+00:00">00:40:50</abbr></a>] &lt;<cite>yates</cite>&gt; <q>RTC-only mode. i don't understand what that's about.</q></li>
<li class="join">[<a href="#T00:40:56" id="T00:40:56"><abbr title="2015-09-13T00:40:56+00:00">00:40:56</abbr></a>] <span>* lektrik_ (~mayday_ja@69.156.38.73) has joined #beagle</span></li>
<li class="join">[<abbr title="2015-09-13T00:40:56+00:00">00:40:56</abbr>] <span>* lektrik (~mayday_ja@69.156.38.73) has joined #beagle</span></li>
<li class="message">[<a href="#T00:41:04" id="T00:41:04"><abbr title="2015-09-13T00:41:04+00:00">00:41:04</abbr></a>] &lt;<cite>yates</cite>&gt; <q>i know there's the RTC in the AM335x</q></li>
<li class="message">[<a href="#T00:41:09" id="T00:41:09"><abbr title="2015-09-13T00:41:09+00:00">00:41:09</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>RTC-only mode means the whole system is off but the RTC remains powered</q></li>
<li class="message">[<a href="#T00:41:16" id="T00:41:16"><abbr title="2015-09-13T00:41:16+00:00">00:41:16</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>so you don't lose your date &amp; time settings</q></li>
<li class="message">[<a href="#T00:41:45" id="T00:41:45"><abbr title="2015-09-13T00:41:45+00:00">00:41:45</abbr></a>] &lt;<cite>yates</cite>&gt; <q>well, we need to wake up every N seconds (about 12 hours)</q></li>
<li class="message">[<a href="#T00:42:31" id="T00:42:31"><abbr title="2015-09-13T00:42:31+00:00">00:42:31</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>are you running on battery power?</q></li>
<li class="quit">[<a href="#T00:44:25" id="T00:44:25"><abbr title="2015-09-13T00:44:25+00:00">00:44:25</abbr></a>] <span>* kunalg (~kunalg@14.139.160.230) Quit (Quit: kunalg)</span></li>
<li class="message">[<a href="#T00:44:36" id="T00:44:36"><abbr title="2015-09-13T00:44:36+00:00">00:44:36</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>either way, I'd say use suspend to RAM, then the RTC also remains operational</q></li>
<li class="message">[<a href="#T00:46:01" id="T00:46:01"><abbr title="2015-09-13T00:46:01+00:00">00:46:01</abbr></a>] &lt;<cite>yates</cite>&gt; <q>yes</q></li>
<li class="message">[<a href="#T00:46:31" id="T00:46:31"><abbr title="2015-09-13T00:46:31+00:00">00:46:31</abbr></a>] &lt;<cite>yates</cite>&gt; <q>we have two modes, one we're connected to a power source and don't care about power, the other is minimizing energy on a battery</q></li>
<li class="message">[<a href="#T00:47:24" id="T00:47:24"><abbr title="2015-09-13T00:47:24+00:00">00:47:24</abbr></a>] &lt;<cite>yates</cite>&gt; <q>yeah, but ram has to stay powered on, right?</q></li>
<li class="message">[<a href="#T00:47:47" id="T00:47:47"><abbr title="2015-09-13T00:47:47+00:00">00:47:47</abbr></a>] &lt;<cite>yates</cite>&gt; <q>is it minimal draw when not changing?</q></li>
<li class="message">[<a href="#T00:48:02" id="T00:48:02"><abbr title="2015-09-13T00:48:02+00:00">00:48:02</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>ram draw low but non-negligible power</q></li>
<li class="quit">[<a href="#T00:48:51" id="T00:48:51"><abbr title="2015-09-13T00:48:51+00:00">00:48:51</abbr></a>] <span>* Akex_ (uid58281@gateway/web/irccloud.com/x-fovlqtihawwlntdx) Quit (Quit: Connection closed for inactivity)</span></li>
<li class="message">[<a href="#T00:49:49" id="T00:49:49"><abbr title="2015-09-13T00:49:49+00:00">00:49:49</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>the alternative is save some state and shutdown (or suspend-to-disk, although flash won't like that) and use an external RTC to power up the system again</q></li>
<li class="message">[<a href="#T00:50:11" id="T00:50:11"><abbr title="2015-09-13T00:50:11+00:00">00:50:11</abbr></a>] &lt;<cite>yates</cite>&gt; <q>we're trying to run for at least 30 days on a 5AH battery</q></li>
<li class="message">[<abbr title="2015-09-13T00:50:11+00:00">00:50:11</abbr>] &lt;<cite>zmatt</cite>&gt; <q>there are RTCs that draw typical 0.15 Î¼A</q></li>
<li class="message">[<a href="#T00:50:30" id="T00:50:30"><abbr title="2015-09-13T00:50:30+00:00">00:50:30</abbr></a>] &lt;<cite>yates</cite>&gt; <q>there's an rta in the AM335x right?</q></li>
<li class="message">[<a href="#T00:50:32" id="T00:50:32"><abbr title="2015-09-13T00:50:32+00:00">00:50:32</abbr></a>] &lt;<cite>yates</cite>&gt; <q>rtc</q></li>
<li class="message">[<a href="#T00:50:42" id="T00:50:42"><abbr title="2015-09-13T00:50:42+00:00">00:50:42</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>yes, you can also use that</q></li>
<li class="message">[<a href="#T00:50:43" id="T00:50:43"><abbr title="2015-09-13T00:50:43+00:00">00:50:43</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>but</q></li>
<li class="message">[<a href="#T00:50:53" id="T00:50:53"><abbr title="2015-09-13T00:50:53+00:00">00:50:53</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>you'll need to fix the power supply scheme of the beaglebone</q></li>
<li class="message">[<a href="#T00:51:00" id="T00:51:00"><abbr title="2015-09-13T00:51:00+00:00">00:51:00</abbr></a>] &lt;<cite>yates</cite>&gt; <q>oh?</q></li>
<li class="message">[<a href="#T00:51:02" id="T00:51:02"><abbr title="2015-09-13T00:51:02+00:00">00:51:02</abbr></a>] &lt;<cite>yates</cite>&gt; <q>fix???</q></li>
<li class="message">[<a href="#T00:51:09" id="T00:51:09"><abbr title="2015-09-13T00:51:09+00:00">00:51:09</abbr></a>] &lt;<cite>yates</cite>&gt; <q>repair?</q></li>
<li class="message">[<a href="#T00:51:16" id="T00:51:16"><abbr title="2015-09-13T00:51:16+00:00">00:51:16</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>yes, it's buggy in all releases</q></li>
<li class="message">[<a href="#T00:51:21" id="T00:51:21"><abbr title="2015-09-13T00:51:21+00:00">00:51:21</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>different bugs though</q></li>
<li class="message">[<a href="#T00:51:22" id="T00:51:22"><abbr title="2015-09-13T00:51:22+00:00">00:51:22</abbr></a>] &lt;<cite>yates</cite>&gt; <q>ah shit.</q></li>
<li class="message">[<a href="#T00:51:42" id="T00:51:42"><abbr title="2015-09-13T00:51:42+00:00">00:51:42</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>the PMIC is also buggy, especially if no battery power is present</q></li>
<li class="message">[<a href="#T00:52:14" id="T00:52:14"><abbr title="2015-09-13T00:52:14+00:00">00:52:14</abbr></a>] &lt;<cite>yates</cite>&gt; <q>you mean the TPS65217c?</q></li>
<li class="message">[<a href="#T00:52:37" id="T00:52:37"><abbr title="2015-09-13T00:52:37+00:00">00:52:37</abbr></a>] &lt;<cite>yates</cite>&gt; <q>i didn't want to hear this...</q></li>
<li class="message">[<a href="#T00:52:50" id="T00:52:50"><abbr title="2015-09-13T00:52:50+00:00">00:52:50</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>yeah, use a TPS65217d if you have the choice (the c defaults to ddr3, reconfigured to ddr3l by u-boot.  the d defaults to ddr3l)</q></li>
<li class="message">[<a href="#T00:53:10" id="T00:53:10"><abbr title="2015-09-13T00:53:10+00:00">00:53:10</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>the TPS bugs seems to disappear however if a battery is used</q></li>
<li class="message">[<a href="#T00:53:39" id="T00:53:39"><abbr title="2015-09-13T00:53:39+00:00">00:53:39</abbr></a>] &lt;<cite>yates</cite>&gt; <q>you mean on pins 4,5 ?</q></li>
<li class="message">[<a href="#T00:53:45" id="T00:53:45"><abbr title="2015-09-13T00:53:45+00:00">00:53:45</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>BAT, BATMON, TS</q></li>
<li class="message">[<a href="#T00:54:04" id="T00:54:04"><abbr title="2015-09-13T00:54:04+00:00">00:54:04</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>although even that's kinda suboptimal</q></li>
<li class="message">[<a href="#T00:54:21" id="T00:54:21"><abbr title="2015-09-13T00:54:21+00:00">00:54:21</abbr></a>] &lt;<cite>yates</cite>&gt; <q>BATMON == BAT_SENSE?</q></li>
<li class="message">[<a href="#T00:54:44" id="T00:54:44"><abbr title="2015-09-13T00:54:44+00:00">00:54:44</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>since you have no indication of consumption, remaining charge, etc</q></li>
<li class="message">[<a href="#T00:54:48" id="T00:54:48"><abbr title="2015-09-13T00:54:48+00:00">00:54:48</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>yes</q></li>
<li class="message">[<a href="#T00:55:27" id="T00:55:27"><abbr title="2015-09-13T00:55:27+00:00">00:55:27</abbr></a>] &lt;<cite>yates</cite>&gt; <q>i think we're going to do our own battery state algorithm</q></li>
<li class="message">[<a href="#T00:55:52" id="T00:55:52"><abbr title="2015-09-13T00:55:52+00:00">00:55:52</abbr></a>] &lt;<cite>yates</cite>&gt; <q>coloumb counting or whatnot</q></li>
<li class="message">[<a href="#T00:56:46" id="T00:56:46"><abbr title="2015-09-13T00:56:46+00:00">00:56:46</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>yeah, measure or estimate the current, integrate over time</q></li>
<li class="message">[<a href="#T00:57:09" id="T00:57:09"><abbr title="2015-09-13T00:57:09+00:00">00:57:09</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>anyhow, the main issues with power on the bbb are:</q></li>
<li class="quit">[<a href="#T00:57:12" id="T00:57:12"><abbr title="2015-09-13T00:57:12+00:00">00:57:12</abbr></a>] <span>* Gareth (~garethFre@znc.wiked.org) Quit (Ping timeout: 240 seconds)</span></li>
<li class="message">[<a href="#T00:57:34" id="T00:57:34"><abbr title="2015-09-13T00:57:34+00:00">00:57:34</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>1. multiple 3.3V power domains which are not properly sequenced</q></li>
<li class="message">[<a href="#T00:58:02" id="T00:58:02"><abbr title="2015-09-13T00:58:02+00:00">00:58:02</abbr></a>] &lt;<cite>yates</cite>&gt; <q>let me preempt this with, "but it works!"</q></li>
<li class="message">[<a href="#T00:58:12" id="T00:58:12"><abbr title="2015-09-13T00:58:12+00:00">00:58:12</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>2. cpu pin "VDDS" is connected to LDO1 instead of LDO3 -- there's still a not-placed resistor to undo that</q></li>
<li class="message">[<a href="#T00:58:34" id="T00:58:34"><abbr title="2015-09-13T00:58:34+00:00">00:58:34</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>let me add to that "for now"</q></li>
<li class="message">[<a href="#T00:58:51" id="T00:58:51"><abbr title="2015-09-13T00:58:51+00:00">00:58:51</abbr></a>] &lt;<cite>zmatt</cite>&gt; <q>but without fixes, RTC-only mode will draw a lot of current</q></li>
