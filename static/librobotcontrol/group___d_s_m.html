<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Robot Control Library: DSM</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Robot Control Library"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Robot Control Library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___d_s_m.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">DSM</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<p>DSM2 and DSMX radio interface. </p>
<p>&lt;<a class="el" href="dsm_8h.html">rc/dsm.h</a>&gt;</p>
<p>DSM2 and DSMX are common standards for remote control plane and car radios. Typically, a receiver outputs pulse width modulated signals to individual servos or ESCs over separate servo connectors. Commonly a satellite-receiver is mounted on the outside of an RC plane to provide better signal strength and sends the same information as a serial packet over a 3-pin wire. These receivers have nothing to do with satellites but instead are named due to their remote mounting away from the standard receiver.</p>
<p>The Robotics Cape supports direct connection of satellite receivers as well as binding to transmitters without the need for a standard receiver and bind plug as is traditionally used. The software has been tested with Orange brand DSM2 receivers, as well as Spektrum and JR branded DSMX receivers.</p>
<p>See rc_balance, rc_test_dsm, rc_bind_dsm, rc_calibrate_dsm, and rc_dsm_passthroguh examples. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga44ac46fe10a1a4713e1c071c4247e04e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_s_m.html#ga44ac46fe10a1a4713e1c071c4247e04e">RC_MAX_DSM_CHANNELS</a>&#160;&#160;&#160;9</td></tr>
<tr class="separator:ga44ac46fe10a1a4713e1c071c4247e04e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaa01b151a1a15db2e2464f4bce7865615"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_s_m.html#gaa01b151a1a15db2e2464f4bce7865615">rc_dsm_init</a> (void)</td></tr>
<tr class="memdesc:gaa01b151a1a15db2e2464f4bce7865615"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the DSM background service.  <a href="#gaa01b151a1a15db2e2464f4bce7865615">More...</a><br /></td></tr>
<tr class="separator:gaa01b151a1a15db2e2464f4bce7865615"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1fca540c523b53efcfb6303989da7d27"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_s_m.html#ga1fca540c523b53efcfb6303989da7d27">rc_dsm_cleanup</a> (void)</td></tr>
<tr class="memdesc:ga1fca540c523b53efcfb6303989da7d27"><td class="mdescLeft">&#160;</td><td class="mdescRight">stops the DSM background service  <a href="#ga1fca540c523b53efcfb6303989da7d27">More...</a><br /></td></tr>
<tr class="separator:ga1fca540c523b53efcfb6303989da7d27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1b5b914ce58df71073d8c006df3013a9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_s_m.html#ga1b5b914ce58df71073d8c006df3013a9">rc_dsm_ch_raw</a> (int ch)</td></tr>
<tr class="memdesc:ga1b5b914ce58df71073d8c006df3013a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the pulse width in microseconds commanded by the transmitter for a particular channel.  <a href="#ga1b5b914ce58df71073d8c006df3013a9">More...</a><br /></td></tr>
<tr class="separator:ga1b5b914ce58df71073d8c006df3013a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0986542f2b906f0554cfa24758074802"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_s_m.html#ga0986542f2b906f0554cfa24758074802">rc_dsm_ch_normalized</a> (int ch)</td></tr>
<tr class="memdesc:ga0986542f2b906f0554cfa24758074802"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a scaled value from -1 to 1 corresponding to the min and max values recorded during calibration.  <a href="#ga0986542f2b906f0554cfa24758074802">More...</a><br /></td></tr>
<tr class="separator:ga0986542f2b906f0554cfa24758074802"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf9d71e76484ebf43285357b3a008c2a3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_s_m.html#gaf9d71e76484ebf43285357b3a008c2a3">rc_dsm_is_new_data</a> (void)</td></tr>
<tr class="memdesc:gaf9d71e76484ebf43285357b3a008c2a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is a check to see if new data is available.  <a href="#gaf9d71e76484ebf43285357b3a008c2a3">More...</a><br /></td></tr>
<tr class="separator:gaf9d71e76484ebf43285357b3a008c2a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga37e5fcbedbc9a3cfca6ebf25b25dfd9c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_s_m.html#ga37e5fcbedbc9a3cfca6ebf25b25dfd9c">rc_dsm_set_callback</a> (void(*func)(void))</td></tr>
<tr class="memdesc:ga37e5fcbedbc9a3cfca6ebf25b25dfd9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set your own callback function to be called when new DSM data is ready.  <a href="#ga37e5fcbedbc9a3cfca6ebf25b25dfd9c">More...</a><br /></td></tr>
<tr class="separator:ga37e5fcbedbc9a3cfca6ebf25b25dfd9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3b008eae5d070932d0ff47710aee0ba6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_s_m.html#ga3b008eae5d070932d0ff47710aee0ba6">rc_dsm_set_disconnect_callback</a> (void(*func)(void))</td></tr>
<tr class="memdesc:ga3b008eae5d070932d0ff47710aee0ba6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set your own callback function to be called when DSM loses connection.  <a href="#ga3b008eae5d070932d0ff47710aee0ba6">More...</a><br /></td></tr>
<tr class="separator:ga3b008eae5d070932d0ff47710aee0ba6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae6cb399cc5156c90490667888315e4c5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_s_m.html#gae6cb399cc5156c90490667888315e4c5">rc_dsm_is_connection_active</a> (void)</td></tr>
<tr class="memdesc:gae6cb399cc5156c90490667888315e4c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Easily check on the state of the DSM radio packets without checking timeouts yourself.  <a href="#gae6cb399cc5156c90490667888315e4c5">More...</a><br /></td></tr>
<tr class="separator:gae6cb399cc5156c90490667888315e4c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad6f6b4f9b9cf7d7ad75ac34eee90efdf"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_s_m.html#gad6f6b4f9b9cf7d7ad75ac34eee90efdf">rc_dsm_nanos_since_last_packet</a> (void)</td></tr>
<tr class="memdesc:gad6f6b4f9b9cf7d7ad75ac34eee90efdf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Measures time since the last DSM packet was received.  <a href="#gad6f6b4f9b9cf7d7ad75ac34eee90efdf">More...</a><br /></td></tr>
<tr class="separator:gad6f6b4f9b9cf7d7ad75ac34eee90efdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7952852574a68703ce4148204c7f9dab"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_s_m.html#ga7952852574a68703ce4148204c7f9dab">rc_dsm_resolution</a> (void)</td></tr>
<tr class="memdesc:ga7952852574a68703ce4148204c7f9dab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to determine if DSM packets are arriving with 10 or 11-bit resolution.  <a href="#ga7952852574a68703ce4148204c7f9dab">More...</a><br /></td></tr>
<tr class="separator:ga7952852574a68703ce4148204c7f9dab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga33527618f58ee29845e1d8a6c259053e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_s_m.html#ga33527618f58ee29845e1d8a6c259053e">rc_dsm_channels</a> (void)</td></tr>
<tr class="memdesc:ga33527618f58ee29845e1d8a6c259053e"><td class="mdescLeft">&#160;</td><td class="mdescRight">fetches number of DSM channels currently being received.  <a href="#ga33527618f58ee29845e1d8a6c259053e">More...</a><br /></td></tr>
<tr class="separator:ga33527618f58ee29845e1d8a6c259053e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae732159200205ecd620a236fd26efc64"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_s_m.html#gae732159200205ecd620a236fd26efc64">rc_dsm_bind_routine</a> (void)</td></tr>
<tr class="memdesc:gae732159200205ecd620a236fd26efc64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Begins the binding routine and prints instructions to the screen along the way.  <a href="#gae732159200205ecd620a236fd26efc64">More...</a><br /></td></tr>
<tr class="separator:gae732159200205ecd620a236fd26efc64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5d9b24c350fc02665e29b7f60ded2009"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_s_m.html#ga5d9b24c350fc02665e29b7f60ded2009">rc_dsm_calibrate_routine</a> (void)</td></tr>
<tr class="memdesc:ga5d9b24c350fc02665e29b7f60ded2009"><td class="mdescLeft">&#160;</td><td class="mdescRight">routine for measuring the min and max values from a transmitter on each channel and save to disk for future use.  <a href="#ga5d9b24c350fc02665e29b7f60ded2009">More...</a><br /></td></tr>
<tr class="separator:ga5d9b24c350fc02665e29b7f60ded2009"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga44ac46fe10a1a4713e1c071c4247e04e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga44ac46fe10a1a4713e1c071c4247e04e">&#9670;&nbsp;</a></span>RC_MAX_DSM_CHANNELS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RC_MAX_DSM_CHANNELS&#160;&#160;&#160;9</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="rc_test_escs_8c-example.html#a4">rc_test_escs.c</a>, and <a class="el" href="rc_test_servos_8c-example.html#a2">rc_test_servos.c</a>.</dd>
</dl>
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaa01b151a1a15db2e2464f4bce7865615"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa01b151a1a15db2e2464f4bce7865615">&#9670;&nbsp;</a></span>rc_dsm_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rc_dsm_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts the DSM background service. </p>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="rc_balance_8c-example.html#a14">rc_balance.c</a>, <a class="el" href="rc_dsm_passthrough_8c-example.html#a3">rc_dsm_passthrough.c</a>, <a class="el" href="rc_test_dsm_8c-example.html#a4">rc_test_dsm.c</a>, <a class="el" href="rc_test_escs_8c-example.html#a8">rc_test_escs.c</a>, and <a class="el" href="rc_test_servos_8c-example.html#a7">rc_test_servos.c</a>.</dd>
</dl>
</div>
</div>
<a id="ga1fca540c523b53efcfb6303989da7d27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1fca540c523b53efcfb6303989da7d27">&#9670;&nbsp;</a></span>rc_dsm_cleanup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rc_dsm_cleanup </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>stops the DSM background service </p>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure. 1 if there was a timeout due to user callback function not returning. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="rc_dsm_passthrough_8c-example.html#a12">rc_dsm_passthrough.c</a>, <a class="el" href="rc_test_dsm_8c-example.html#a6">rc_test_dsm.c</a>, <a class="el" href="rc_test_escs_8c-example.html#a19">rc_test_escs.c</a>, and <a class="el" href="rc_test_servos_8c-example.html#a18">rc_test_servos.c</a>.</dd>
</dl>
</div>
</div>
<a id="ga1b5b914ce58df71073d8c006df3013a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1b5b914ce58df71073d8c006df3013a9">&#9670;&nbsp;</a></span>rc_dsm_ch_raw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rc_dsm_ch_raw </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ch</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the pulse width in microseconds commanded by the transmitter for a particular channel. </p>
<p>The user can specify channels 1 through 9 but non-zero values will only be returned for channels the transmitter is actually using. The raw values in microseconds typically range from 900-2100us for a standard radio with default settings.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ch</td><td>channel (1-9)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pulse width in microseconds if data is being transmitted, 0 if data is not being transmitted on that channel, -1 on error </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="rc_dsm_passthrough_8c-example.html#a0">rc_dsm_passthrough.c</a>, and <a class="el" href="rc_test_dsm_8c-example.html#a3">rc_test_dsm.c</a>.</dd>
</dl>
</div>
</div>
<a id="ga0986542f2b906f0554cfa24758074802"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0986542f2b906f0554cfa24758074802">&#9670;&nbsp;</a></span>rc_dsm_ch_normalized()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double rc_dsm_ch_normalized </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ch</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a scaled value from -1 to 1 corresponding to the min and max values recorded during calibration. </p>
<p>The user MUST run the rc_calibrate_dsm example to ensure the normalized values returned by this function are correct. It is possible that values outside of the range from -1 to 1 are returned if the calibration is not perfect.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ch</td><td>channel (1-9)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>normalized input from -1.0 to 1.0 if that channel has data, 0 if that channel has no data, -1 on error. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="rc_balance_8c-example.html#a50">rc_balance.c</a>, <a class="el" href="rc_test_dsm_8c-example.html#a2">rc_test_dsm.c</a>, <a class="el" href="rc_test_escs_8c-example.html#a15">rc_test_escs.c</a>, and <a class="el" href="rc_test_servos_8c-example.html#a14">rc_test_servos.c</a>.</dd>
</dl>
</div>
</div>
<a id="gaf9d71e76484ebf43285357b3a008c2a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf9d71e76484ebf43285357b3a008c2a3">&#9670;&nbsp;</a></span>rc_dsm_is_new_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rc_dsm_is_new_data </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is a check to see if new data is available. </p>
<p>After new data is received this will return 1. It will return 0 as soon as any channel has been read by either rc_dsm_ch_raw or rc_dsm_ch_normalized.</p>
<dl class="section return"><dt>Returns</dt><dd>returns 1 if new data is ready to be read by the user. otherwise returns 0 </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="rc_balance_8c-example.html#a49">rc_balance.c</a>, <a class="el" href="rc_test_dsm_8c-example.html#a5">rc_test_dsm.c</a>, <a class="el" href="rc_test_escs_8c-example.html#a9">rc_test_escs.c</a>, and <a class="el" href="rc_test_servos_8c-example.html#a8">rc_test_servos.c</a>.</dd>
</dl>
</div>
</div>
<a id="ga37e5fcbedbc9a3cfca6ebf25b25dfd9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga37e5fcbedbc9a3cfca6ebf25b25dfd9c">&#9670;&nbsp;</a></span>rc_dsm_set_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rc_dsm_set_callback </td>
          <td>(</td>
          <td class="paramtype">void(*)(void)&#160;</td>
          <td class="paramname"><em>func</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set your own callback function to be called when new DSM data is ready. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">func</td><td>callback function </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="rc_dsm_passthrough_8c-example.html#a8">rc_dsm_passthrough.c</a>, and <a class="el" href="rc_test_dsm_8c-example.html#a8">rc_test_dsm.c</a>.</dd>
</dl>
</div>
</div>
<a id="ga3b008eae5d070932d0ff47710aee0ba6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3b008eae5d070932d0ff47710aee0ba6">&#9670;&nbsp;</a></span>rc_dsm_set_disconnect_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rc_dsm_set_disconnect_callback </td>
          <td>(</td>
          <td class="paramtype">void(*)(void)&#160;</td>
          <td class="paramname"><em>func</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set your own callback function to be called when DSM loses connection. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">func</td><td>callback function </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gae6cb399cc5156c90490667888315e4c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae6cb399cc5156c90490667888315e4c5">&#9670;&nbsp;</a></span>rc_dsm_is_connection_active()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rc_dsm_is_connection_active </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Easily check on the state of the DSM radio packets without checking timeouts yourself. </p>
<dl class="section return"><dt>Returns</dt><dd>returns 1 if packets are arriving in good health without timeouts. returns 0 otherwise. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="rc_balance_8c-example.html#a52">rc_balance.c</a>, <a class="el" href="rc_dsm_passthrough_8c-example.html#a9">rc_dsm_passthrough.c</a>, and <a class="el" href="rc_test_dsm_8c-example.html#a9">rc_test_dsm.c</a>.</dd>
</dl>
</div>
</div>
<a id="gad6f6b4f9b9cf7d7ad75ac34eee90efdf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad6f6b4f9b9cf7d7ad75ac34eee90efdf">&#9670;&nbsp;</a></span>rc_dsm_nanos_since_last_packet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t rc_dsm_nanos_since_last_packet </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Measures time since the last DSM packet was received. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns the number of nanoseconds since the last dsm packet was received. Return -1 on error or if no packet has ever been received. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="rc_dsm_passthrough_8c-example.html#a10">rc_dsm_passthrough.c</a>, <a class="el" href="rc_test_dsm_8c-example.html#a10">rc_test_dsm.c</a>, <a class="el" href="rc_test_escs_8c-example.html#a14">rc_test_escs.c</a>, and <a class="el" href="rc_test_servos_8c-example.html#a13">rc_test_servos.c</a>.</dd>
</dl>
</div>
</div>
<a id="ga7952852574a68703ce4148204c7f9dab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7952852574a68703ce4148204c7f9dab">&#9670;&nbsp;</a></span>rc_dsm_resolution()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rc_dsm_resolution </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used to determine if DSM packets are arriving with 10 or 11-bit resolution. </p>
<dl class="section return"><dt>Returns</dt><dd>returns 10 or 11 indicating 10-bit or 11-bit resolution returns a 0 if no packet has been received yet or -1 on error </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="rc_test_dsm_8c-example.html#a1">rc_test_dsm.c</a>, <a class="el" href="rc_test_escs_8c-example.html#a16">rc_test_escs.c</a>, and <a class="el" href="rc_test_servos_8c-example.html#a15">rc_test_servos.c</a>.</dd>
</dl>
</div>
</div>
<a id="ga33527618f58ee29845e1d8a6c259053e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga33527618f58ee29845e1d8a6c259053e">&#9670;&nbsp;</a></span>rc_dsm_channels()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rc_dsm_channels </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>fetches number of DSM channels currently being received. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns number of channels being received, 0 if no packet has been received yet or -1 on error. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="rc_dsm_passthrough_8c-example.html#a2">rc_dsm_passthrough.c</a>, <a class="el" href="rc_test_dsm_8c-example.html#a0">rc_test_dsm.c</a>, <a class="el" href="rc_test_escs_8c-example.html#a17">rc_test_escs.c</a>, and <a class="el" href="rc_test_servos_8c-example.html#a16">rc_test_servos.c</a>.</dd>
</dl>
</div>
</div>
<a id="gae732159200205ecd620a236fd26efc64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae732159200205ecd620a236fd26efc64">&#9670;&nbsp;</a></span>rc_dsm_bind_routine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rc_dsm_bind_routine </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Begins the binding routine and prints instructions to the screen along the way. </p>
<p>The user doesn't need to call this function unless they really want to. Use the rc_bind_dsm example program instead.</p>
<p>DSM satellite receivers are put into bind mode by sending them a sequence of pulses right after it receives power and starts up. This program puts the normally UART signal pin into GPIO pulldown mode temporarily, detects when the user unplugs and plugs back in the receiver, then sends the binding pulses.</p>
<p>The number of pulses dictates the mode the satellite receiver will request the transmitter to use. The transmitter may bind but use a different mode. I suggest configuring your radio to use DSMX 11ms fast mode if it allows that.</p>
<p>2048 &amp; 1024 indicates 10 or 11 bit resolution. 11ms &amp; 22ms indicates the time period between the transmitter sending frames. 11ms is required for transmitters with 8 or more channels.</p>
<p>Testing done with DX7s, DX6i, DX8, and Orange T-SIX</p>
<p>Table of Bind Modes</p>
<table class="doxtable">
<tr>
<th align="center">pulses </th><th align="center">mode  </th></tr>
<tr>
<td align="center">3 </td><td align="center">DSM 1024/22ms </td></tr>
<tr>
<td align="center">5 </td><td align="center">DSM 2048/11ms </td></tr>
<tr>
<td align="center">7 </td><td align="center">DSMX 1024/22ms </td></tr>
<tr>
<td align="center">9 </td><td align="center">DSMX 2048/11ms </td></tr>
</table>
<p>This is a bit of a finicky process and may require a few attempts to work.</p>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="rc_bind_dsm_8c-example.html#a0">rc_bind_dsm.c</a>.</dd>
</dl>
</div>
</div>
<a id="ga5d9b24c350fc02665e29b7f60ded2009"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5d9b24c350fc02665e29b7f60ded2009">&#9670;&nbsp;</a></span>rc_dsm_calibrate_routine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rc_dsm_calibrate_routine </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>routine for measuring the min and max values from a transmitter on each channel and save to disk for future use. </p>
<p>If a channel isn't used by the transmitter then default values are saved. if the user forgot to move one of the channels during the calibration process then defualt values are also saved.</p>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="rc_calibrate_dsm_8c-example.html#a0">rc_calibrate_dsm.c</a>.</dd>
</dl>
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
